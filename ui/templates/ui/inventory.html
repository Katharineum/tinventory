{% load widget_tweaks %}
{% include "header.html" %}

<nav aria-label="breadcrumb" class="m-1">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url "ui_index" %}">Startseite</a></li>
        <li class="breadcrumb-item"><a href="{% url "ui_items" %}">Objekte</a></li>
        <li class="breadcrumb-item active" aria-current="page">Inventarisierung</li>

    </ol>
</nav>

<h1 class="display-5 m-1">Inventarisierung</h1>

{% include "parts/msg.html" %}

{#<div class="card mb-2">#}
{#    <div class="card-body">#}
{#        <a role="button" class="btn btn-success" href="{% url "ui_item_new" %}">Neues Objekt erstellen</a>#}
{#    </div>#}
{#</div>#}

<form action="" method="post">
    {% csrf_token %}
    {% if form.non_field_errors %}
        <div class="card mb-2">
            <div class="card-body">
                <div class="alert alert-danger" role="alert">

                    {{ form.non_field_errors }}
                </div>
            </div>
        </div>
    {% endif %}


    <div class="card mb-2">
        <div class="card-body">
            <h5>Kategorie ausw채hlen <span class="text-danger">*</span></h5>
            <div class="row">
                <div class="col-sm">
                    <div class="form-group">
                        {% if form.category_select.errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ form.category_select.errors }}
                            </div>
                        {% endif %}
                        {{ form.category_select.label_tag }}
                        {{ form.category_select|add_class:"form-control" }}
                    </div>
                </div>
                <div class="col-sm">
                    <div class="form-group">
                        {% if form.category_new.errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ form.category_new.errors }}
                            </div>
                        {% endif %}
                        {{ form.category_new.label_tag }}
                        {{ form.category_new|add_class:"form-control" }}
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="card mb-2">
        <div class="card-body">
            <div class="row">
                <div class="col-sm">
                    <h5>Soll f체r dieses Objekt ein Preset verwendet werden?</h5>
                    <p><span class="text-muted">Die Angabe eines Presets ist optional.</span></p>
                </div>
                <div class="col-sm d-flex flex-row-reverse align-items-start">
                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                        <label class="btn btn-success active">
                            <input type="radio" name="use-preset" id="preset_yes" autocomplete="off" checked
                                   value="yes"> Preset
                            verwenden
                        </label>
                        <label class="btn btn-danger">
                            <input type="radio" name="use-preset" id="preset_no" autocomplete="off" value="no"> Kein
                            Preset verwenden
                        </label>
                    </div>
                </div>
            </div>


            <div class="row">
                <div class="col-sm">
                    <div class="form-group preset">
                        <p><strong>Preset ausw채hlen</strong></p>
                        {% if form.preset_select.errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ form.preset_select.errors }}
                            </div>
                        {% endif %}
                        {{ form.preset_select|add_class:"form-control" }}
                    </div>


                </div>
                <div class="col-sm">
                    <p class="preset"><strong>oder ein neues Preset erstellen</strong></p>
                    <div class="form-group preset">
                        {% if form.preset_new_name.errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ form.preset_new_name.errors }}
                            </div>
                        {% endif %}
                        {{ form.preset_new_name|add_class:"form-control"|attr:"placeholder:Name des neuen Presets" }}


                    </div>
                    <div class="form-group preset">
                        {% if form.preset_new_manufacturer.errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ form.preset_new_manufacturer.errors }}
                            </div>
                        {% endif %}
                        {{ form.preset_new_manufacturer|add_class:"form-control"|attr:"placeholder:Hersteller des neuen Presets (optional)" }}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="card mb-2">
        <div class="card-body">
            <h5>Weitere Metadaten f체r dieses Objekt <span class="text-danger">*</span></h5>
            <div class="form-group ">
                {% if form.name.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.name.errors }}
                    </div>
                {% endif %}
                <label for="{{ form.name.id_for_label }}">Bezeichnung <span class="text-danger">*</span></label>
                {{ form.name|add_class:"form-control"|attr:"placeholder:Bezeichnung" }}
            </div>
            <div class="form-group ">
                {% if form.notes.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.notes.errors }}
                    </div>
                {% endif %}
                <label for="{{ form.notes.id_for_label }}">Notizen</label>
                {{ form.notes|add_class:"form-control"|attr:"placeholder:Notizen" }}
            </div>
            <div class="form-group ">
                {% if form.location.errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ form.location.errors }}
                    </div>
                {% endif %}
                <label for="{{ form.location.id_for_label }}">Ort <span class="text-danger">*</span></label>
                {{ form.location|add_class:"form-control" }}
            </div>
        </div>
    </div>

    <div class="card mb-2">
        <div class="card-body">
            <button type="submit" class="btn btn-success">
                Objekt speichern
            </button>
        </div>
    </div>

</form>
<script type="text/javascript">
    $(document).ready(function () {
        console.log("Ready");
        $("#preset_yes").change(function () {
            $(".preset").css("display", "inherit");
        });
        $("#preset_no").change(function () {
            console.log("Hi");
            $(".preset").css("display", "none");
        })
    });
</script>
{% include "footer.html" %}